{
  "Redis": {
    "ConnectionString": "$REDIS_CONNECTION_URL",
    "InstanceName": "$REDIS_PREFIX"
  },
  "ElasticSearch": {
    "ConnectionString": "$ELK_CONNECTION_URL",
    "UserName": "$ELK_CONNECTION_USERNAME",
    "Password": "$ELK_CONNECTION_PASSWORD",
    "Indexes": {
      "AuditLog": "$ELK_INDEX_AUDITLOG",
      "PlayerChangesLog": "$ELK_INDEX_PLAYER_CHANGES_LOG",
      "BlockedPlayersLog": "$ELK_INDEX_BLOCKED_PlAYERS_LOG",
      "VisitLog": "$ELK_INDEX_VISIT_LOG",
      "LossesLog": "$ELK_INDEX_LOSSES_LOG"
    }
  },
  "Kafka": {
    "MaxThreadsCount": 5,
    "MaxTimeoutMsec": 5000,
    "Config": {
      "security.protocol": "$KAFKA_SECURITY_PROTOCOL",
      "sasl.mechanism": "PLAIN",
      "enable.partition.eof": true,
      "log.connection.close": false,
      "queued.min.messages": 10,
      "queued.max.messages.kbytes": 256,
      "auto.offset.reset": "smallest",
      "fetch.error.backoff.ms": 200
    },
    "Aliases": {
      "Address": "bootstrap.servers",
      "GroupId": "group.id",
      "ServiceName": "sasl.kerberos.service.name",
      "SaslUsername": "sasl.username",
      "SaslPassword": "sasl.password"
    },

    "SaslUsername": "$KAFKA_USERNAME",
    "SaslPassword": "$KAFKA_PASSWORD",
    "Address": "$KAFKA_BROKER",
    "ServiceName": "$KAFKA_BROKER",
    "GroupId": "$KAFKA_CONSUMER_GROUP",

    "Topics": {
      "AuditLog": "$KAFKA_TOPIC_AUDITLOG",
      "PermissionsTopic": "$KAFKA_TOPIC_PERMISSIONS",
      "HealthCheck": "$KAFKA_TOPIC_HEALTH_CHECK",
      "BlockedPlayersLog": "$KAFKA_TOPIC_BLOCKED_PLAYERS_LOG",
      "PlayerChangesLog": "$KAFKA_TOPIC_PLAYER_CHANGES_LOG",
      "SsoPlayersChangesLog": "$KAFKA_TOPIC_SSO_PLAYERS_CHANGES_LOG",
      "SsoUsersChangesLog": "$KAFKA_TOPIC_SSO_USERS_CHANGES_LOG",
      "Visitlog": "$KAFKA_TOPIC_VISIT_LOG",
      "LocalizationChanged": "$KAFKA_TOPIC_LOCALIZATION_CHANGED"
    },
    "TopicValidation": {
      "ValidationResultChat": "$KAFKA_VALIDATION_RESULT_CHAT"
    }
  },
  "SSO": {
    "ServiceName": "$SSO_SERVICE_NAME",
    "ServiceId": "$SSO_AUTH_SERVICE_ID",
    "RootNodeId": "$SSO_AUTH_ROOT_NODE_ID",
    "Url": "$SSO_SERVICE_URL",
    "ApiKey": "$SSO_AUTH_API_KEY"
  },
  "Swagger": {
    "XmlComments": [ "AuditService.Common.xml", "AuditService.WebApi.xml" ]
  },
  "Localization": {
    "Storage": {
      "CacheLifetimeInMinutes": "$LOCALIZATION_CACHE_LIFE_TIME_MINUTES"
    },
    "Source": {
      "UriTemplate": "$LOCALIZATION_SOURCE_TEMPLATE_URI"
    }
  },
  "RocketChat": {
    "User": "$ROCKETCHAT_USER",
    "Password": "$ROCKETCHAT_PASSWORD",
    "IsActive": "$ROCKETCHAT_IS_ACTIVE",
    "BaseApiUrl": "$ROCKETCHAT_BASE_API_URL",
    "ApiVersion": "$ROCKETCHAT_API_VERSION",
    "Methods": {
      "Login": "$ROCKETCHAT_METHOD_LOGIN",
      "GetRooms": "$ROCKETCHAT_METHOD_GETROOMS",
      "PostMessage": "$ROCKETCHAT_METHOD_POSTMESSAGE"
    },
    "Storage": {
      "AuthDataLifetimeInHours": "$ROCKETCHAT_STORAGE_AUTHDATA_LIFETIME_HOURS",
      "BufferedMessageLifetimeInMinutes": "$ROCKETCHAT_STORAGE_BUFFERED_MESSAGE_LIFETIME_MINUTES",
      "BufferedMessageBlockLifetimeInMinutes": "$ROCKETCHAT_STORAGE_BUFFERED_MESSAGE_BLOCKTIME_MINUTES"
    }
  },
  "Minio": {
    "Endpoint": "$MINIO_ENDPOINT",
    "AccessKey": "$MINIO_ACCESS_KEY",
    "SecretKey": "$MINIO_SECRET_KEY",
    "WithSSL": "$MINIO_WITHSSL",
    "TraceRequests": "$MINIO_TRACE_REQUESTS",
    "BucketName": "$MINIO_BUCKET_NAME",
    "SharingFiles": {
      "ExpirationInSeconds": "$MINIO_SHARING_FILES_EXPIRATION_IN_SECONDS"
    }
  },
  "SettingsService": {
    "Url": "$SETTINGS_SERVICE_URL",
    "Storage": {
      "CacheLifetimeInMinutes": "$SETTINGS_SERVICE_CACHE_LIFE_TIME_MINUTES"
    } 
  },
  "Gitlab": {
    "Url": "$GITLAB_URL",
    "ProjectId": "$GITLAB_PROJECT_ID",
    "Username": "$GITLAB_USERNAME",
    "Password": "$GITLAB_USER_PASSWORD",
    "BranchName": "$GITLAB_DEFAULT_BRANCHNAME"
  }
}
